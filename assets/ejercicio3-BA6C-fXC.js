import"./modulepreload-polyfill-B5Qt9EMX.js";import"./main-Cichf5aj.js";const m=document.getElementById("todo-form"),l=document.getElementById("todo-input"),d=document.getElementById("todo-list");m.addEventListener("submit",c=>{c.preventDefault();const n=l.value.trim();if(!n)return;const e=document.createElement("li"),i=document.createElement("span");i.className="task",i.textContent=n,e.append(i);const a=document.createElement("button");a.type="button",a.className="remove",a.ariaLabel="Eliminar tarea",a.textContent="x";const t=document.createElement("button");t.type="button",t.className="edit",t.ariaLabel="Editar tarea",t.textContent="✏",e.append(t),e.append(a),d.append(e),l.value="",l.focus()});d.addEventListener("click",c=>{var i,a;const n=c.target.closest("button");if(!n||!d.contains(n))return;const e=n.closest("li");if(e){if(n.classList.contains("remove")){e.remove();return}if(n.classList.contains("edit"))if(e.classList.contains("is-editing")){const t=e.querySelector(".edit-input"),s=t.value.trim()||t.dataset.prev,o=document.createElement("span");o.className="task",o.textContent=s,t.replaceWith(o),e.classList.remove("is-editing"),n.textContent="✏";return}else{let t=e.querySelector(".task");t||(t=document.createElement("span"),t.className(".task"),t.textContent=((a=(i=e.firstChild)==null?void 0:i.nodeValue)==null?void 0:a.trim())||"",e.prepend(t));const s=document.createElement("input");s.type="text",s.className="edit-input",s.value=t.textContent,s.dataset.prev=t.textContent,t.replaceWith(s),e.classList.add("is-editing"),n.textContent="💾",s.focus(),s.select(),s.addEventListener("keydown",o=>{if(o.key==="Escape"){const r=document.createElement("span");r.className="task",r.textContent=s.dataset.prev,s.replaceWith(r),e.classList.remove("is-editing"),n.textContent="✏"}else o.key==="Enter"&&n.click()})}}});
